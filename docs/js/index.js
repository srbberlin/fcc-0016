(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
'use strict';

var url = 'https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/GDP-data.json';
var height = 400;
var colWidth = 3;

var mx = function mx(a) {
  var res = 0,
      i = 0,
      l = a.length;
  while (i < l) {
    if (res < a[i][1]) {
      res = a[i][1];
    }
    i++;
  }
  return res;
};

var svg = d3.select('svg');
var main = d3.select('.main');
var chart = d3.select('.chart').attr('transform', 'translate(15, 15)').attr('height', height);
var box = d3.select('.box');
var foObj = d3.select('foreignObject');
var head = d3.select('.text thead');
var body = d3.select('.text tbody');
var footer = d3.select('.text tfoot');

d3.json(url, function (error, res) {
  if (!error) {
    var dateFrom = new Date(res.from_date);
    var dateTo = new Date(res.to_date);
    var source = res.source_name;
    var name = res.name.split(',')[0] + ' of the USA';
    var des = res.description.split('\n');
    var value = res.data;
    var width = colWidth * value.length;

    var barScale = d3.scaleLinear().domain([0, mx(value)]).range([0, height]);

    var valueScale = d3.scaleLinear().domain([0, mx(value)]).range([height, 0]);

    var timeScale = d3.scaleTime().domain([dateFrom, dateTo]).range([0, width]);

    var timeAxis = d3.axisBottom(timeScale);

    var valueAxis = d3.axisRight(valueScale);

    des.push('Source: ' + source);

    svg.attr('height', height + 90).attr('width', width + 100);

    main.attr('height', height + 90).attr('width', width + 100);

    box.attr('transform', 'translate(25, 25)').attr('height', 250).attr('width', 350);

    foObj.attr('transform', 'translate(25, 25)').attr('height', 250).attr('width', 350);

    head.html('<td colspan="2">' + name + '</td>');

    body.selectAll('tbody').data(des).enter().append('tr').html(function (d) {
      var v = d.split(': ');
      if (v[1]) {
        v[1] = v[1].replace(/\((http.*?)\)/i, '<a href=$1 target=_blank>$1</a>');
      }
      return '<td>' + v[0] + '</td><td>' + v[1] + '</td>';
    });

    footer.html('<td colspan="2">' + '' + '</td>');

    chart.attr('width', width).selectAll('g').data(value).enter().append('g').append('rect').attr('width', colWidth - 1).attr('height', function (d) {
      return barScale(d[1]);
    }).attr('transform', function (d, i) {
      return 'translate(' + i * colWidth + ',' + (height - barScale(d[1])) + ')';
    });

    chart.append('g').attr('transform', 'translate(0, ' + (height + 10) + ')').call(timeAxis);

    chart.append('g').attr('transform', 'translate(' + (width + 10) + ', 0)').call(valueAxis);
  }
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksTUFBTSwwRkFBVjtBQUNBLElBQUksU0FBUyxHQUFiO0FBQ0EsSUFBSSxXQUFXLENBQWY7O0FBRUEsSUFBSSxLQUFLLFNBQUwsRUFBSyxJQUFLO0FBQ1osTUFBSSxNQUFNLENBQVY7QUFBQSxNQUFhLElBQUksQ0FBakI7QUFBQSxNQUFvQixJQUFJLEVBQUUsTUFBMUI7QUFDQSxTQUFPLElBQUksQ0FBWCxFQUFjO0FBQ1osUUFBSSxNQUFNLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBVixFQUFtQjtBQUNqQixZQUFNLEVBQUUsQ0FBRixFQUFLLENBQUwsQ0FBTjtBQUNEO0FBQ0Q7QUFDRDtBQUNELFNBQU8sR0FBUDtBQUNELENBVEQ7O0FBV0EsSUFBSSxNQUFNLEdBQUcsTUFBSCxDQUFVLEtBQVYsQ0FBVjtBQUNBLElBQUksT0FBTyxHQUFHLE1BQUgsQ0FBVSxPQUFWLENBQVg7QUFDQSxJQUFJLFFBQVEsR0FBRyxNQUFILENBQVUsUUFBVixFQUNULElBRFMsQ0FDSixXQURJLEVBQ1MsbUJBRFQsRUFFVCxJQUZTLENBRUosUUFGSSxFQUVNLE1BRk4sQ0FBWjtBQUdBLElBQUksTUFBTSxHQUFHLE1BQUgsQ0FBVSxNQUFWLENBQVY7QUFDQSxJQUFJLFFBQVEsR0FBRyxNQUFILENBQVUsZUFBVixDQUFaO0FBQ0EsSUFBSSxPQUFPLEdBQUcsTUFBSCxDQUFVLGFBQVYsQ0FBWDtBQUNBLElBQUksT0FBTyxHQUFHLE1BQUgsQ0FBVSxhQUFWLENBQVg7QUFDQSxJQUFJLFNBQVMsR0FBRyxNQUFILENBQVUsYUFBVixDQUFiOztBQUVBLEdBQUcsSUFBSCxDQUFRLEdBQVIsRUFBYSxVQUFDLEtBQUQsRUFBUSxHQUFSLEVBQWdCO0FBQzNCLE1BQUksQ0FBRSxLQUFOLEVBQWE7QUFDWCxRQUFJLFdBQVcs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UUcsSUFSSCxDQVFRLFdBUlIsRUFRcUIsVUFBQyxDQUFELEVBQUksQ0FBSixFQUFVO0FBQzNCLGFBQU8sZUFBZSxJQUFJLFFBQW5CLEdBQThCLEdBQTlCLElBQXFDLFNBQVMsU0FBUyxFQUFFLENBQUYsQ0FBVCxDQUE5QyxJQUFnRSxHQUF2RTtBQUNELEtBVkg7O0FBWUEsVUFDRyxNQURILENBQ1UsR0FEVixFQUVHLElBRkgsQ0FFUSxXQUZSLEVBRXFCLG1CQUFtQixTQUFTLEVBQTVCLElBQWtDLEdBRnZELEVBR0csSUFISCxDQUdRLFFBSFI7O0FBS0EsVUFDRyxNQURILENBQ1UsR0FEVixFQUVHLElBRkgsQ0FFUSxXQUZSLEVBRXFCLGdCQUFnQixRQUFRLEVBQXhCLElBQThCLE1BRm5ELEVBR0csSUFISCxDQUdRLFNBSFI7QUFJRDtBQUNGLENBdkZEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc31yZXR1cm4gZX0pKCkiLCJsZXQgdXJsID0gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9GcmVlQ29kZUNhbXAvUHJvamVjdFJlZmVyZW5jZURhdGEvbWFzdGVyL0dEUC1kYXRhLmpzb24nXG5sZXQgaGVpZ2h0ID0gNDAwXG5sZXQgY29sV2lkdGggPSAzXG5cbmxldCBteCA9IGEgPT4ge1xuICBsZXQgcmVzID0gMCwgaSA9IDAsIGwgPSBhLmxlbmd0aFxuICB3aGlsZSAoaSA8IGwpIHtcbiAgICBpZiAocmVzIDwgYVtpXVsxXSkge1xuICAgICAgcmVzID0gYVtpXVsxXVxuICAgIH1cbiAgICBpKytcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmxldCBzdmcgPSBkMy5zZWxlY3QoJ3N2ZycpXG5sZXQgbWFpbiA9IGQzLnNlbGVjdCgnLm1haW4nKVxubGV0IGNoYXJ0ID0gZDMuc2VsZWN0KCcuY2hhcnQnKVxuICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgxNSwgMTUpJylcbiAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodClcbmxldCBib3ggPSBkMy5zZWxlY3QoJy5ib3gnKVxubGV0IGZvT2JqID0gZDMuc2VsZWN0KCdmb3JlaWduT2JqZWN0JylcbmxldCBoZWFkID0gZDMuc2VsZWN0KCcudGV4dCB0aGVhZCcpXG5sZXQgYm9keSA9IGQzLnNlbGVjdCgnLnRleHQgdGJvZHknKVxubGV0IGZvb3RlciA9IGQzLnNlbGVjdCgnLnRleHQgdGZvb3QnKVxuXG5kMy5qc29uKHVybCwgKGVycm9yLCByZXMpID0+IHtcbiAgaWYgKCEgZXJyb3IpIHtcbiAgICBsZXQgZGF0ZUZyb20gPSBuZXcgRGF0ZShyZXMuZnJvbV9kYXRlKVxuICAgIGxldCBkYXRlVG8gPSBuZXcgRGF0ZShyZXMudG9fZGF0ZSlcbiAgICBsZXQgc291cmNlID0gcmVzLnNvdXJjZV9uYW1lXG4gICAgbGV0IG5hbWUgPSByZXMubmFtZS5zcGxpdCgnLCcpWzBdICsgJyBvZiB0aGUgVVNBJ1xuICAgIGxldCBkZXMgPSByZXMuZGVzY3JpcHRpb24uc3BsaXQoJ1xcbicpXG4gICAgbGV0IHZhbHVlID0gcmVzLmRhdGFcbiAgICBsZXQgd2lkdGggPSBjb2xXaWR0aCAqIHZhbHVlLmxlbmd0aFxuXG4gICAgbGV0IGJhclNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLmRvbWFpbihbMCwgbXgodmFsdWUpXSlcbiAgICAgIC5yYW5nZShbMCwgaGVpZ2h0XSlcblxuICAgIGxldCB2YWx1ZVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLmRvbWFpbihbMCwgbXgodmFsdWUpXSlcbiAgICAgIC5yYW5nZShbaGVpZ2h0LCAwXSlcblxuICAgIGxldCB0aW1lU2NhbGUgPSBkMy5zY2FsZVRpbWUoKVxuICAgICAgLmRvbWFpbihbZGF0ZUZyb20sIGRhdGVUb10pXG4gICAgICAucmFuZ2UoWzAsIHdpZHRoXSkgIFxuXG4gICAgbGV0IHRpbWVBeGlzID0gZDMuYXhpc0JvdHRvbSh0aW1lU2NhbGUpXG5cbiAgICBsZXQgdmFsdWVBeGlzID0gZDMuYXhpc1JpZ2h0KHZhbHVlU2NhbGUpXG5cbiAgICBkZXMucHVzaCgnU291cmNlOiAnICsgc291cmNlKVxuXG4gICAgc3ZnXG4gICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0ICsgOTApXG4gICAgICAuYXR0cignd2lkdGgnLCB3aWR0aCArIDEwMClcblxuICAgIG1haW5cbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQgKyA5MClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoICsgMTAwKVxuICBcbiAgICBib3hcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDI1LCAyNSknKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDI1MClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIDM1MClcblxuICAgIGZvT2JqXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgyNSwgMjUpJylcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAyNTApXG4gICAgICAuYXR0cignd2lkdGgnLCAzNTApXG5cbiAgICBoZWFkXG4gICAgICAuaHRtbCgnPHRkIGNvbHNwYW49XCIyXCI+JyArIG5hbWUgKyAnPC90ZD4nKVxuXG4gICAgYm9keVxuICAgICAgLnNlbGVjdEFsbCgndGJvZHknKVxuICAgICAgLmRhdGEoZGVzKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3RyJylcbiAgICAgIC5odG1sKChkKSA9PiB7XG4gICAgICAgIGxldCB2ID0gZC5zcGxpdCgnOiAnKVxuICAgICAgICBpZiAodlsxXSkge1xuICAgICAgICAgIHZbMV0gPSB2WzFdLnJlcGxhY2UoL1xcKChodHRwLio/KVxcKS9pLCAnPGEgaHJlZj0kMSB0YXJnZXQ9X2JsYW5rPiQxPC9hPicpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICc8dGQ+JyArIHZbMF0gKyAnPC90ZD48dGQ+JyArIHZbMV0gKyAnPC90ZD4nXG4gICAgICB9KVxuXG4gICAgZm9vdGVyXG4gICAgICAuaHRtbCgnPHRkIGNvbHNwYW49XCIyXCI+JyArICcnICsgJzwvdGQ+JylcblxuICAgIGNoYXJ0LmF0dHIoJ3dpZHRoJywgd2lkdGgpXG4gICAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAgIC5kYXRhKHZhbHVlKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cignd2lkdGgnLCBjb2xXaWR0aCAtIDEpXG4gICAgICAuYXR0cignaGVpZ2h0JywgKGQpID0+IHsgcmV0dXJuIGJhclNjYWxlKGRbMV0pIH0pXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGkgKiBjb2xXaWR0aCArICcsJyArIChoZWlnaHQgLSBiYXJTY2FsZShkWzFdKSkgKyAnKSdcbiAgICAgIH0pXG5cbiAgICBjaGFydFxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCAnICsgKGhlaWdodCArIDEwKSArICcpJylcbiAgICAgIC5jYWxsKHRpbWVBeGlzKVxuXG4gICAgY2hhcnRcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICh3aWR0aCArIDEwKSArICcsIDApJylcbiAgICAgIC5jYWxsKHZhbHVlQXhpcylcbiAgfVxufSlcbiJdfQ==
